% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/measure_mbspls.R
\name{mbspls_measures}
\alias{mbspls_measures}
\title{Measures for MB-sPLS (test-time)}
\description{
These measures use the compact payload written by \code{PipeOpMBsPLS} into
\code{log_env$last} during \verb{$predict()}. They therefore evaluate performance on
the \strong{test split} seen by the downstream learner in resampling/tuning.

Required payload fields (written by the PipeOp):
\itemize{
\item \code{mac_comp}  - numeric vector of per-component latent correlations on test
data (either MAC or Frobenius, depending on training)
\item \code{ev_comp}   - numeric vector of per-component explained variance (test)
\item \code{ev_block}  - matrix (K x B) of block-wise EVs on test data
\item \code{perf_metric} - \code{"mac"} or \code{"frobenius"} (to normalise Frobenius)
\item \code{blocks}    - character vector of block names (to count block pairs)
}

Make sure the same \code{log_env} is passed into your PipeOp inside the Graph:
\preformatted{
  metrics_env <- new.env(parent = emptyenv())
  po_mb <- po("mbspls", blocks = blocks, ncomp = 3L, log_env = metrics_env)
  gl    <- as_learner(po_std %>>% po_bs %>>% po_mb %>>% po("learner", lrn("clust.kmeans", centers = 1)))
}
}
\concept{Measures}
