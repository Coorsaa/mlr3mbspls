% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/TunerSeqMBsPLS.R
\name{TunerSeqMBsPLS}
\alias{TunerSeqMBsPLS}
\title{Sequential Component-wise Tuner for MB-sPLS}
\description{
\code{TunerSeqMBsPLS} performs \emph{sequential} hyper-parameter optimisation of a
multi-block sparse PLS (MB-sPLS) model in the \strong{mlr3} ecosystem. For each
latent component it (i) samples block-wise sparsity vectors \code{c}, (ii) scores
them via inner resampling using a correlation objective (MAC / Frobenius),
(iii) refits the best candidate on the current residuals with optional
permutation testing, and (iv) deflates before moving to the next component.
}
\section{Construction}{


\if{html}{\out{<div class="sourceCode">}}\preformatted{tuner <- TunerSeqMBsPLS$new(
  tuner              = "random_search",
  budget             = 1500L,                # iterations per component
  resampling         = rsmp("cv", folds = 3),
  parallel           = "none",
  early_stopping     = TRUE,                 # stop on non-sig. component
  n_perm             = 1000L,
  perm_alpha         = 0.05,
  performance_metric = "mac",                # or "frobenius"
  additional_task    = NULL                  # optional unlabeled task
)
}\if{html}{\out{</div>}}
}

\section{Methods}{

\describe{
\item{\code{$optimize(instance)}}{Run the sequential loop and populate the
\code{TuningInstanceSingleCrit}. The optimal block-by-component sparsity
matrix is returned via \code{instance$result$learner_param_vals$c_matrix}.}
}
}

\section{Super class}{
\code{\link[mlr3tuning:Tuner]{mlr3tuning::Tuner}} -> \code{TunerSeqMBsPLS}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-TunerSeqMBsPLS-new}{\code{TunerSeqMBsPLS$new()}}
\item \href{#method-TunerSeqMBsPLS-set_additional_task}{\code{TunerSeqMBsPLS$set_additional_task()}}
\item \href{#method-TunerSeqMBsPLS-optimize}{\code{TunerSeqMBsPLS$optimize()}}
\item \href{#method-TunerSeqMBsPLS-clone}{\code{TunerSeqMBsPLS$clone()}}
}
}
\if{html}{\out{
<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="mlr3tuning" data-topic="Tuner" data-id="format"><a href='../../mlr3tuning/html/Tuner.html#method-Tuner-format'><code>mlr3tuning::Tuner$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3tuning" data-topic="Tuner" data-id="help"><a href='../../mlr3tuning/html/Tuner.html#method-Tuner-help'><code>mlr3tuning::Tuner$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3tuning" data-topic="Tuner" data-id="print"><a href='../../mlr3tuning/html/Tuner.html#method-Tuner-print'><code>mlr3tuning::Tuner$print()</code></a></span></li>
</ul>
</details>
}}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TunerSeqMBsPLS-new"></a>}}
\if{latex}{\out{\hypertarget{method-TunerSeqMBsPLS-new}{}}}
\subsection{Method \code{new()}}{
Construct a new \code{TunerSeqMBsPLS}.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TunerSeqMBsPLS$new(
  tuner = "random_search",
  budget = 100L,
  resampling = rsmp("cv", folds = 3),
  parallel = "none",
  early_stopping = TRUE,
  n_perm = 1000L,
  perm_alpha = 0.05,
  performance_metric = "mac",
  additional_task = NULL
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{tuner}}{(\code{character(1)})
ID of a \emph{synchronous} mlr3 tuner for the per-component search
(e.g. \code{"random_search"}, \code{"grid_search"}).}

\item{\code{budget}}{(\code{integer(1)})
Maximum number of candidate evaluations \strong{per component}.}

\item{\code{resampling}}{(\code{mlr3::Resampling})
Inner resampling strategy (default \code{rsmp("cv", folds = 3)}).}

\item{\code{parallel}}{(\code{character(1)})
\code{"none"} (default) or \code{"inner"} to parallelise CV folds via \strong{future}.}

\item{\code{early_stopping}}{(\code{logical(1)})
If \code{TRUE} (default) run a permutation test after each LC and stop
when \code{p > perm_alpha}. LC1 is always kept.}

\item{\code{n_perm}}{(\code{integer(1)})
Number of permutations for the test (default 1000).}

\item{\code{perm_alpha}}{(\code{numeric(1)})
Significance level for early stopping (default 0.05).}

\item{\code{performance_metric}}{(\code{character(1)})
Objective used \emph{inside} the inner CV: \code{"mac"} (mean absolute correlation,
default) or \code{"frobenius"} (Frobenius norm of the block-score
correlation matrix).}

\item{\code{additional_task}}{\link[mlr3:Task]{mlr3::Task} or \code{NULL}. Optional \strong{unlabelled} task
whose rows are appended to the inner-CV training features when extracting
MB-sPLS weights. Only features are used; labels (if present) are ignored.
At prediction time and for evaluation, \strong{only} the original task is used.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TunerSeqMBsPLS-set_additional_task"></a>}}
\if{latex}{\out{\hypertarget{method-TunerSeqMBsPLS-set_additional_task}{}}}
\subsection{Method \code{set_additional_task()}}{
(optional) setter if you want to supply it later
than at construction time.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TunerSeqMBsPLS$set_additional_task(task)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{task}}{(\code{mlr3::Task})
The additional task to be used for tuning.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TunerSeqMBsPLS-optimize"></a>}}
\if{latex}{\out{\hypertarget{method-TunerSeqMBsPLS-optimize}{}}}
\subsection{Method \code{optimize()}}{
Run the sequential loop and populate the supplied
\code{TuningInstanceSingleCrit}. The optimal block-by-component
sparsity matrix is available afterwards as
\code{$result$learner_param_vals$c_matrix}.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TunerSeqMBsPLS$optimize(instance)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{instance}}{(\code{mlr3tuning::TuningInstanceBatchSingleCrit})}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TunerSeqMBsPLS-clone"></a>}}
\if{latex}{\out{\hypertarget{method-TunerSeqMBsPLS-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{TunerSeqMBsPLS$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
